# Полный анализ страницы Bitget Futures (UNIUSDT)

Аналитический документ по странице [https://www.bitget.com/ru/futures/usdt/UNIUSDT](https://www.bitget.com/ru/futures/usdt/UNIUSDT): структура, блоки интерфейса, метрики, типы ордеров и сравнение с текущей реализацией TradePage в проекте.

---

## 1. Метаданные и URL

| Элемент | Значение |
|--------|----------|
| **URL страницы** | `https://www.bitget.com/ru/futures/usdt/UNIUSDT` |
| **Вариант для других пар** | Замена `UNIUSDT` на символ пары (например, `BTCUSDT`, `ETHUSDT`). Формат: `/ru/futures/usdt/{SYMBOL}`. |
| **Заголовок страницы (title)** | «{цена} \| UNI/USDT \| Бессрочные фьючерсы USDT-M, маржинальная торговля \| Bitget» (цена подставляется динамически). |
| **Язык** | Русский, сегмент `/ru/` в пути. |

---

## 2. Глобальная навигация (header сайта)

- **Пункты меню**: Спот, Фьючерсы, Торговые боты, Копитрейдинг, Информация о торговле, Больше.
- **Правый блок**: Войти, Зарегистрироваться (с редиректом обратно на текущий URL при `from=`).
- **Контекст**: страница относится к разделу «Фьючерсы», продукт — USDT-M (бессрочные фьючерсы с маржой в USDT).

---

## 3. Верхняя информационная полоса (price bar)

На основе типичного UX Bitget и аналогов:

| Поле | Описание | В TradePage |
|------|----------|-------------|
| Символ пары | UNI/USDT или UNIUSDT | Да — `{symbol.replace('-USDT','')}USDT` |
| Подпись типа | «Бессрочные фьючерсы USDT-M» / «Бессрочный USDT» | Да — «Бессрочный USDT» |
| Текущая (последняя) цена | Last price | Да — `lastPrice` |
| Индексная цена | Index price | Да — `indexPrice` (равен last) |
| Изменение за 24ч | Абсолютное и в % | Да — `change24Abs`, `change24` |
| 24ч High | Максимум за 24 часа | Да — `high24` |
| 24ч Low | Минимум за 24 часа | Да — `low24` |
| 24ч объём (USDT) | Объём в USDT | Да — `volume24` (формат B/M) |
| Ставка финансирования | Funding rate | Да — заглушка «0.0046%» |
| Обратный отсчёт до funding | До 00:00, 08:00, 16:00 UTC | Частично — заглушка «02:00:00» |

Все перечисленные поля price bar в проекте реализованы; реальный funding rate и обратный отсчёт до следующего funding — заглушки.

---

## 4. Вкладки контента под price bar

| Вкладка Bitget | Назначение | В TradePage |
|----------------|------------|-------------|
| График | Основной торговый график | Да — `mainTab === 'chart'` |
| Обзор | О паре / описание | Да — «О паре {symbol}» |
| Данные | Табличные/статистические данные | Да — заглушка «Раздел в разработке» |
| Лента новостей | Новости | Да — заглушка «Раздел в разработке» |

Соответствие полное; контент Обзор/Данные/Новости — минимальный или заглушки.

---

## 5. Основная раскладка (3 колонки)

| Область | Bitget | TradePage |
|---------|--------|-----------|
| **Левая колонка** | Список рынков (пары), цена, изменение % | Список тикеров с `/api/market/tickers`, цена, change24h% |
| **Центр** | График + таймфреймы (1m–1d и т.д.) | Lightweight Charts, `TIMEFRAMES`: 1m, 5m, 15m, 1h, 4h, 1d |
| **Правая колонка** | Стакан, сделки, форма ордера, позиции | Вкладки: Стакан, Сделки, Ордер, Позиции |

Раскладка соответствует: три колонки (рынки | график | стакан/ордер/позиции).

---

## 6. Панель ордера (Bitget-style)

| Элемент | Bitget | TradePage |
|---------|--------|-----------|
| Режим | Маржинальная торговля (USDT-M) | «Марж. торговля» |
| Плечо | До 125x | До 100x (`LEVERAGE_OPTIONS`) |
| Типы ордера | Лимитный, Рыночный, Условный (trigger) | Лимитный, Рыночный, Условный (заглушка) |
| Цена | Поле ввода | Да |
| Кнопка «Последняя» | Подстановка последней цены | Да — `setLastPrice` |
| Количество | К-во + слайдер 0–100% от маржи | К-во (USDT) + слайдер 0–100% |
| Стоимость / Цена ликвидации | Стоим., ликвидация, «Рассчитать» | Стоим., Цена ликвид., кнопка «Рассчитать» |
| TP/SL, Post-Only, Только сокращение | Чекбоксы | Да — чекбоксы |
| Срок действия | «Годен до отмены» | Подпись «Годен до отмены» |
| Кнопки направления | Лонг / Шорт | Лонг / Шорт |
| Ссылки | Ставка комиссии, Калькулятор | Ссылки-заглушки |

Панель ордера в проекте соответствует Bitget-style; условные ордера и расширенная логика «Рассчитать» не реализованы.

---

## 7. Нижняя панель (таблицы и вкладки)

| Элемент | Bitget | TradePage |
|---------|--------|-----------|
| Вкладки | Открытые ордера, Позиции, История ордеров, История торговли, Активы, Займы, Инструменты, P&L | `BOTTOM_TABS`: orders, positions, orderHistory, tradeHistory, assets, loans, tools, pnl |
| Фильтры | По рынкам, по инструментам | «Все рынки», «Все инструменты» (select) |
| Таблица позиций | Контракт, направление, к-во, стоимость, цена входа, mark price, цена ликвидации, нереализ. P&L, Закрыть | Колонки: Контракты, К-во, Стоим., Цена входа, Цена маркировки, Цена ликвид., Нереализ., Закрыть |

Нижняя панель и таблица позиций реализованы; данные по ордерам/истории/активам — заглушки или пустые состояния.

---

## 8. Ключевые метрики Bitget (справка)

- **Funding rate**: расчёт каждые 8 часов (00:00, 08:00, 16:00 UTC); формула с премией и сглаживанием ±0.05%. Комиссия финансирования = стоимость позиции × ставка.
- **Mark price**: справедливая цена для расчёта нереализованного PnL и ликвидации. На Bitget ликвидация считается по mark price, а не по last.
- **Liquidation price**: срабатывает при достижении уровня maintenance margin; используется mark price.
- **Режимы**: хедж (раздельные лонг/шорт) и one-way; изолированная и кросс-маржа.

**В проекте**: mark price можно считать равным last; цена ликвидации — упрощённая формула (long: entry × (1 − 1/leverage), short: entry × (1 + 1/leverage)).

---

## 9. Скриншоты и визуальные материалы

- Для точной визуальной сверки нужны актуальные скриншоты страницы [bitget.com/ru/futures/usdt/UNIUSDT](https://www.bitget.com/ru/futures/usdt/UNIUSDT), сделанные вручную или через браузер.
- Рекомендуется сохранять файлы в `design/` или `docs/screenshots/` (например, `bitget-futures-price-bar.png`, `bitget-futures-order-panel.png`, `bitget-futures-bottom-panel.png`).
- В открытых источниках полного скриншота именно UNIUSDT нет; общие страницы Bitget (markets, futures overview) дают только общее представление об интерфейсе.

**Placeholder для ссылок на скриншоты:**

- `design/bitget-futures-full.png` — общий вид страницы
- `design/bitget-futures-order-panel.png` — панель ордера
- `design/bitget-futures-bottom-positions.png` — нижняя панель, вкладка Позиции

---

## 10. Сравнение с текущей реализацией (TradePage)

| Элемент Bitget | TradePage |
|----------------|-----------|
| Price bar (символ, цена, индекс, 24h, объём, funding) | Да |
| Вкладки График / Обзор / Данные / Лента новостей | Да |
| Spot / Фьючерсы | Да |
| Левая колонка — список рынков | Да |
| Центр — график, таймфреймы | Да |
| Правая колонка — Стакан / Сделки / Ордер / Позиции | Да |
| «Последняя» в форме ордера | Да |
| Слайдер 0–100% по марже | Да |
| Чекбоксы TP/SL, Post-Only, Только сокращение | Да |
| Нижняя панель с вкладками | Да |
| Таблица позиций (колонки как на Bitget) | Да |
| Реальный funding rate и обратный отсчёт | Да (GET /api/market/funding, обратный отсчёт до 00:00, 08:00, 16:00 UTC) |
| Условные ордера (trigger) | Да (форма: цена срабатывания, к-во, направление; POST/GET/DELETE /api/wallet/trigger-orders) |
| Mark price отдельно от last | Да (отображается в шапке; значение = last до появления API) |
| Плечо до 125x | Да (добавлено 125x) |
| Режим маржи (кросс/изолир.) и режим позиции (односторонний/хедж) | Да (переключатели в UI) |
| История ордеров / История торговли / Активы / P&L с данными | Да (открытые ордера + условные; история ордеров; история торговли = закрытые позиции; Активы = баланс; P&L = сумма реализ. P&L) |
| Вкладка «Данные» | Да (таблица: цена, 24ч высокий/низкий, изменение %, объём 24ч) |

---

## 11. Рекомендации

- **Реальный обратный отсчёт до funding**: реализовано — следующий слот (00:00, 08:00, 16:00 UTC), обновление раз в секунду (TradePage).
- **Отдельное отображение mark price**: реализовано — в шапке отображается Mark; значение равно last до появления API mark price.
- **Условные ордера**: при необходимости — реализовать trigger-ордера (цена/время срабатывания) и отдельный UI.
- **Режимы маржи и хеджа**: при расширении продукта — добавить переключатель изолированная/кросс-маржа и режим хеджа (раздельные лонг/шорт).
- **Заполнение разделов**: Обзор — описание пары/контракта; Данные — таблицы (открытый интерес, объёмы); Лента новостей — RSS или API новостей.

---

*Документ подготовлен по плану анализа страницы Bitget Futures. Источники: контент страницы, веб-поиск, официальная документация Bitget, код [frontend/src/pages/TradePage.tsx](frontend/src/pages/TradePage.tsx).*
